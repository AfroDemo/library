import{q as M,r as l,a as L,j as e,$ as B}from"./app-DCuZLIiR.js";import{T as g,A as U,S as O}from"./app-layout-CxSrBOU3.js";import{B as h}from"./chevron-right-MvP6eIpt.js";import{U as u}from"./users-CMo67ggo.js";import{U as p}from"./user-check-gT2IIRzb.js";import{c as N}from"./createLucideIcon-B80Gj0Dh.js";import{C as y}from"./calendar-B2KfnIy5.js";import{T as f}from"./trending-up-q3KU2li_.js";import"./app-logo-icon-l4AutvGA.js";import"./index-DWDx7uJa.js";import"./index-Bq50F9d8.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],D=N("Activity",$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],j=N("Database",z),E=[{title:"Admin",href:"/admin"},{title:"Dashboard",href:"/admin/dashboard"}];function K(){const{auth:v,stats:i={},errors:r,success:n}=M().props,[a,w]=l.useState(i),[b,c]=l.useState(!i.totalBooks),[k,d]=l.useState([]);l.useEffect(()=>{i.totalBooks||(c(!0),L.get("/api/admin/stats").then(s=>{w(s.data),c(!1)}).catch(s=>{console.error("Failed to fetch stats:",s),m("error","Failed to load dashboard statistics"),c(!1)})),n&&m("success",n),r&&Object.values(r).length>0&&Object.values(r).forEach(s=>m("error",s))},[n,r]);const m=(s,t)=>{const o=Date.now().toString(),A={type:s,message:t,id:o};d(x=>[...x,A]),setTimeout(()=>{d(x=>x.filter(C=>C.id!==o))},5e3)},T=s=>{d(t=>t.filter(o=>o.id!==s))},S=[{title:"Total Books",value:a.totalBooks||0,icon:h,color:"bg-blue-500",textColor:"text-blue-600"},{title:"Total Students",value:a.totalStudents||0,icon:u,color:"bg-green-500",textColor:"text-green-600"},{title:"Total Librarians",value:a.totalLibrarians||0,icon:p,color:"bg-indigo-500",textColor:"text-indigo-600"},{title:"Overdue Books",value:a.overdueBooks||0,icon:g,color:"bg-red-500",textColor:"text-red-600"},{title:"Active Transactions",value:a.activeTransactions||0,icon:D,color:"bg-purple-500",textColor:"text-purple-600"},{title:"Today’s Transactions",value:a.recentTransactions||0,icon:y,color:"bg-yellow-500",textColor:"text-yellow-600"}];return e.jsxs(U,{breadcrumbs:E,children:[e.jsx(B,{title:"Admin Dashboard"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsxs("h1",{className:"mb-2 flex items-center gap-2 text-2xl font-bold text-gray-900",children:[e.jsx(j,{className:"h-6 w-6 text-blue-600"}),"Welcome back, ",v.user.name]}),e.jsx("p",{className:"text-gray-600",children:"Oversee library operations, manage users, and monitor system performance from this central dashboard."})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:S.map((s,t)=>e.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-transform hover:scale-105","aria-label":`${s.title}: ${b?"Loading":s.value}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:s.title}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:b?"...":s.value.toLocaleString()})]}),e.jsx("div",{className:`rounded-full p-3 ${s.color}`,children:e.jsx(s.icon,{className:"h-6 w-6 text-white"})})]})},t))}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsxs("h3",{className:"mb-4 flex items-center text-lg font-semibold text-gray-900",children:[e.jsx(j,{className:"mr-2 h-5 w-5 text-blue-600"}),"System Management"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("a",{href:"/admin/books",className:"block rounded-lg border border-gray-200 p-3 transition-colors hover:bg-gray-50","aria-label":"Manage books",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Manage Books"}),e.jsx(h,{className:"h-4 w-4 text-gray-400"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Add, edit, and organize your book collection"})]}),e.jsxs("a",{href:"/admin/users",className:"block rounded-lg border border-gray-200 p-3 transition-colors hover:bg-gray-50","aria-label":"Manage users",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Manage Users"}),e.jsx(u,{className:"h-4 w-4 text-gray-400"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage students, staff, and librarians"})]}),e.jsxs("a",{href:"/admin/librarians",className:"block rounded-lg border border-gray-200 p-3 transition-colors hover:bg-gray-50","aria-label":"Manage librarians",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Manage Librarians"}),e.jsx(p,{className:"h-4 w-4 text-gray-400"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Add or remove librarian accounts"})]}),e.jsxs("a",{href:"/admin/settings",className:"block rounded-lg border border-gray-200 p-3 transition-colors hover:bg-gray-50","aria-label":"System settings",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"System Settings"}),e.jsx(O,{className:"h-4 w-4 text-gray-400"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Configure library policies and settings"})]})]})]}),e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsxs("h3",{className:"mb-4 flex items-center text-lg font-semibold text-gray-900",children:[e.jsx(f,{className:"mr-2 h-5 w-5 text-green-600"}),"Reports & Analytics"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("a",{href:"/admin/reports/popular-books",className:"block rounded-lg border border-gray-200 p-3 transition-colors hover:bg-gray-50","aria-label":"Popular books report",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Popular Books"}),e.jsx(f,{className:"h-4 w-4 text-gray-400"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Most borrowed books and trends"})]}),e.jsxs("a",{href:"/admin/reports/overdue",className:"block rounded-lg border border-gray-200 p-3 transition-colors hover:bg-gray-50","aria-label":"Overdue books report",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Overdue Reports"}),e.jsx(g,{className:"h-4 w-4 text-gray-400"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Track overdue books and notifications"})]}),e.jsxs("a",{href:"/admin/reports/usage",className:"block rounded-lg border border-gray-200 p-3 transition-colors hover:bg-gray-50","aria-label":"Usage statistics report",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Usage Statistics"}),e.jsx(y,{className:"h-4 w-4 text-gray-400"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Library usage patterns and metrics"})]})]})]})]}),e.jsx("div",{className:"fixed right-4 bottom-4 z-50 space-y-2",children:k.map(s=>e.jsxs("div",{className:`flex max-w-sm items-center space-x-3 rounded-lg border px-4 py-3 shadow-lg ${s.type==="success"?"border-green-200 bg-green-50 text-green-800":s.type==="error"?"border-red-200 bg-red-50 text-red-800":"border-blue-200 bg-blue-50 text-blue-800"}`,children:[s.type==="success"&&e.jsx("div",{className:"h-5 w-5 text-green-600",children:"✔"}),s.type==="error"&&e.jsx(g,{className:"h-5 w-5 text-red-600"}),s.type==="info"&&e.jsx("div",{className:"h-5 w-5 text-blue-600",children:"ℹ"}),e.jsx("span",{className:"text-sm font-medium",children:s.message}),e.jsx("button",{onClick:()=>T(s.id),className:"text-gray-400 hover:text-gray-600","aria-label":"Close toast notification",children:"×"})]},s.id))})]})]})}export{K as default};
